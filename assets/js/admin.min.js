jQuery(document).ready((function(e){e(".color-field").wpColorPicker(),e(".wpmesoch-admin-tab-button").click((function(){var l=e(this).data("tab");e(".wpmesoch-admin-tab-button").removeClass("active"),e(".wpmesoch-admin-tab-content").removeClass("active"),e(this).addClass("active"),e("#tab-"+l).addClass("active")})),e(".color-field").on("change",(function(){let l=e(this).val();e("#wpmesoch-admin-live-preview").css("background",l)}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("wpmesoch-admin-add-field"),l=document.getElementById("wpmesoch-admin-repeater-fields");let n=wpmesoch_data.counter||0,o=wpmesoch_data.limit||2;function c(){jQuery(".color-picker").wpColorPicker()}o&&n<o&&(e.style.display="inline-block"),e?.addEventListener("click",(function(){const t=l.querySelectorAll(".wpmesoch-admin-field-group").length;if(o&&t>=o)return void(e.style.display="none");const s=document.createElement("div");s.className="wpmesoch-admin-field-group",s.style.marginBottom="15px",s.innerHTML=`\n            <div class="wpmesoch-admin-preview-icon" style="margin-bottom: 8px;">\n                <i class="fab fa-whatsapp"></i>\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-color-${n}">Icon Color</label>\n                <input type="text" id="cl-color-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][color]" class="color-picker" placeholder="Pick Icon Color" />\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-url-${n}">Enter URL</label>\n                <input type="text" id="cl-url-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][url]" placeholder="URL (Ex: https://wa.me/88017900000)" />\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-class-${n}">Enter Icon Class</label>\n                <input type="text" id="cl-class-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][icon]" class="icon-input" placeholder="Enter Icon Class (e.g. fab fa-facebook)" />\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-label-${n}">Enter Label</label>\n                <input type="text" id="cl-label-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][label]" placeholder="Enter Label (Ex: Whatsapp)" />\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-bgcolor-${n}">Background Color</label>\n                <input type="text" id="cl-bgcolor-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][bg_color]" class="color-picker" placeholder="Pick Background Color" />\n            </div>\n\n            <div class="flex-wpmesoch-admin">\n                <label class="cl-label-wpm" for="cl-sbgcolor-${n}">Gradient Color</label>\n                <input type="text" id="cl-sbgcolor-${n}" name="wpmesoch_settings[wpmesoch_links][${n}][s_bg_color]" class="color-picker" placeholder="Gradient Color" />\n            </div>\n\n            <button type="button" class="wpmesoch-admin-remove-field button" style="margin-top: 10px;">Remove</button>\n        `,l.appendChild(s),c(),n++,o&&l.querySelectorAll(".wpmesoch-admin-field-group").length>=o&&(e.style.display="none")})),l.addEventListener("click",(function(n){n.target.classList.contains("wpmesoch-admin-remove-field")&&(n.target.closest(".wpmesoch-admin-field-group").remove(),o&&l.querySelectorAll(".wpmesoch-admin-field-group").length<o&&(e.style.display=""))})),document.addEventListener("input",(function(e){if(e.target.classList.contains("icon-input")){const l=e.target.value.trim()||"fab fa-whatsapp";e.target.closest(".wpmesoch-admin-field-group").querySelector(".wpmesoch-admin-preview-icon i").className=l}})),new Sortable(l,{animation:150,ghostClass:"sortable-ghost"}),jQuery(document).ready((function(){c()}))}));